import './polyfills.server.mjs';
import{$ as vr,A as D,Aa as Et,B as nn,C as m,Ca as N,D as rn,Da as xr,E as a,Ea as Sr,F as l,Fa as It,G as M,H as hr,I as pr,J as x,K as p,L as g,M as gr,N as u,O as Y,P as we,Q as mr,R as k,S as O,T as P,U,V as w,X as yr,a as cr,b as ur,ba as wt,c as dr,d as $,da as on,e as fr,ea as Dr,f as Se,fa as sn,g as b,h as yt,ha as X,i as le,ia as ee,j as I,ja as G,k as vt,ka as Cr,l as De,la as Te,m as A,ma as wr,n as C,na as Ne,o as Dt,oa as z,p as V,pa as _r,q as Ke,qa as Er,r as y,ra as Ir,s as v,t as Ct,u as en,ua as br,v as Ce,w as f,x as d,y as tn,ya as Mr,z as Z,za as _t}from"./chunk-YDSD66MG.mjs";import{a as T,b as F}from"./chunk-NDYDZJSS.mjs";var Tr=(()=>{let e=class e{constructor(n){this.router=n,this.title="frontend",this.router.events.subscribe(i=>{i instanceof Mr&&console.log("Navigated to:",i.url)})}};e.\u0275fac=function(i){return new(i||e)(d(N))},e.\u0275cmp=C({type:e,selectors:[["app-root"]],standalone:!0,features:[w],decls:1,vars:0,template:function(i,o){i&1&&M(0,"router-outlet")},dependencies:[It,Et],styles:[".navbar[_ngcontent-%COMP%]{position:sticky;top:0;width:100%;background-color:#3f51b5;color:#fff;display:flex;padding:0 16px;align-items:center;height:56px;font:500 20px/32px Roboto,Helvetica Neue,sans-serif}"]});let t=e;return t})();var Lr=(()=>{let e=class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.\u0275fac=function(i){return new(i||e)(d(tn),d(en))},e.\u0275dir=V({type:e});let t=e;return t})(),Io=(()=>{let e=class e extends Lr{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ct(e)))(o||e)}})(),e.\u0275dir=V({type:e,features:[Z]});let t=e;return t})(),dn=new De("");var bo={provide:dn,useExisting:le(()=>L),multi:!0};function Mo(){let t=sn()?sn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var xo=new De(""),L=(()=>{let e=class e extends Lr{constructor(n,i,o){super(n,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Mo())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.\u0275fac=function(i){return new(i||e)(d(tn),d(en),d(xo,8))},e.\u0275dir=V({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&p("input",function(c){return o._handleInput(c.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(c){return o._compositionEnd(c.target.value)})},features:[U([bo]),Z]});let t=e;return t})();function ce(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function jr(t){return t!=null&&typeof t.length=="number"}var Oe=new De(""),Ot=new De(""),So=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ue=class{static min(e){return To(e)}static max(e){return No(e)}static required(e){return Br(e)}static requiredTrue(e){return Ao(e)}static email(e){return Fo(e)}static minLength(e){return ko(e)}static maxLength(e){return Hr(e)}static pattern(e){return Oo(e)}static nullValidator(e){return Mt(e)}static compose(e){return qr(e)}static composeAsync(e){return Kr(e)}};function To(t){return e=>{if(ce(e.value)||ce(t))return null;let r=parseFloat(e.value);return!isNaN(r)&&r<t?{min:{min:t,actual:e.value}}:null}}function No(t){return e=>{if(ce(e.value)||ce(t))return null;let r=parseFloat(e.value);return!isNaN(r)&&r>t?{max:{max:t,actual:e.value}}:null}}function Br(t){return ce(t.value)?{required:!0}:null}function Ao(t){return t.value===!0?null:{required:!0}}function Fo(t){return ce(t.value)||So.test(t.value)?null:{email:!0}}function ko(t){return e=>ce(e.value)||!jr(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Hr(t){return e=>jr(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Oo(t){if(!t)return Mt;let e,r;return typeof t=="string"?(r="",t.charAt(0)!=="^"&&(r+="^"),r+=t,t.charAt(t.length-1)!=="$"&&(r+="$"),e=new RegExp(r)):(r=t.toString(),e=t),n=>{if(ce(n.value))return null;let i=n.value;return e.test(i)?null:{pattern:{requiredPattern:r,actualValue:i}}}}function Mt(t){return null}function $r(t){return t!=null}function Ur(t){return yr(t)?ur(t):t}function Gr(t){let e={};return t.forEach(r=>{e=r!=null?T(T({},e),r):e}),Object.keys(e).length===0?null:e}function zr(t,e){return e.map(r=>r(t))}function Po(t){return!t.validate}function Wr(t){return t.map(e=>Po(e)?e:r=>e.validate(r))}function qr(t){if(!t)return null;let e=t.filter($r);return e.length==0?null:function(r){return Gr(zr(r,e))}}function fn(t){return t!=null?qr(Wr(t)):null}function Kr(t){if(!t)return null;let e=t.filter($r);return e.length==0?null:function(r){let n=zr(r,e).map(Ur);return fr(n).pipe($(Gr))}}function hn(t){return t!=null?Kr(Wr(t)):null}function Nr(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Zr(t){return t._rawValidators}function Yr(t){return t._rawAsyncValidators}function an(t){return t?Array.isArray(t)?t:[t]:[]}function xt(t,e){return Array.isArray(t)?t.includes(e):t===e}function Ar(t,e){let r=an(e);return an(t).forEach(i=>{xt(r,i)||r.push(i)}),r}function Fr(t,e){return an(e).filter(r=>!xt(t,r))}var St=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fn(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return this.control?this.control.hasError(e,r):!1}getError(e,r){return this.control?this.control.getError(e,r):null}},ie=class extends St{get formDirective(){return null}get path(){return null}},_e=class extends St{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Tt=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Ro={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},_l=F(T({},Ro),{"[class.ng-submitted]":"isSubmitted"}),W=(()=>{let e=class e extends Tt{constructor(n){super(n)}};e.\u0275fac=function(i){return new(i||e)(d(_e,2))},e.\u0275dir=V({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&rn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Z]});let t=e;return t})(),he=(()=>{let e=class e extends Tt{constructor(n){super(n)}};e.\u0275fac=function(i){return new(i||e)(d(ie,10))},e.\u0275dir=V({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&rn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Z]});let t=e;return t})();var Ze="VALID",bt="INVALID",Ae="PENDING",Ye="DISABLED",de=class{},Nt=class extends de{constructor(e,r){super(),this.value=e,this.source=r}},Je=class extends de{constructor(e,r){super(),this.pristine=e,this.source=r}},Xe=class extends de{constructor(e,r){super(),this.touched=e,this.source=r}},Fe=class extends de{constructor(e,r){super(),this.status=e,this.source=r}},ln=class extends de{constructor(e){super(),this.source=e}},cn=class extends de{constructor(e){super(),this.source=e}};function pn(t){return(Pt(t)?t.validators:t)||null}function Vo(t){return Array.isArray(t)?fn(t):t||null}function gn(t,e){return(Pt(e)?e.asyncValidators:t)||null}function Lo(t){return Array.isArray(t)?hn(t):t||null}function Pt(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Qr(t,e,r){let n=t.controls;if(!(e?Object.keys(n):n).length)throw new yt(1e3,"");if(!n[r])throw new yt(1001,"")}function Jr(t,e,r){t._forEachChild((n,i)=>{if(r[i]===void 0)throw new yt(1002,"")})}var ke=class{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new cr,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ze}get invalid(){return this.status===bt}get pending(){return this.status==Ae}get disabled(){return this.status===Ye}get enabled(){return this.status!==Ye}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ar(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ar(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Fr(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Fr(e,this._rawAsyncValidators))}hasValidator(e){return xt(this._rawValidators,e)}hasAsyncValidator(e){return xt(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let r=this.touched===!1;this.touched=!0;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(F(T({},e),{sourceControl:n})),r&&e.emitEvent!==!1&&this._events.next(new Xe(!0,n))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(r=>r.markAllAsTouched(e))}markAsUntouched(e={}){let r=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:n})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n),r&&e.emitEvent!==!1&&this._events.next(new Xe(!1,n))}markAsDirty(e={}){let r=this.pristine===!0;this.pristine=!1;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(F(T({},e),{sourceControl:n})),r&&e.emitEvent!==!1&&this._events.next(new Je(!1,n))}markAsPristine(e={}){let r=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&e.emitEvent!==!1&&this._events.next(new Je(!0,n))}markAsPending(e={}){this.status=Ae;let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fe(this.status,r)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(F(T({},e),{sourceControl:r}))}disable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=Ye,this.errors=null,this._forEachChild(i=>{i.disable(F(T({},e),{onlySelf:!0}))}),this._updateValue();let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Nt(this.value,n)),this._events.next(new Fe(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(F(T({},e),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=Ze,this._forEachChild(n=>{n.enable(F(T({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(F(T({},e),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e,r){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ze||this.status===Ae)&&this._runAsyncValidator(n,e.emitEvent)}let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Nt(this.value,r)),this._events.next(new Fe(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(F(T({},e),{sourceControl:r}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ye:Ze}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,r){if(this.asyncValidator){this.status=Ae,this._hasOwnPendingAsyncValidator={emitEvent:r!==!1};let n=Ur(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:r,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(r.emitEvent!==!1,this,r.shouldHaveEmitted)}get(e){let r=e;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((n,i)=>n&&n._find(i),this)}getError(e,r){let n=r?this.get(r):this;return n&&n.errors?n.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,r,n){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||n)&&this._events.next(new Fe(this.status,r)),this._parent&&this._parent._updateControlsErrors(e,r,n)}_initObservables(){this.valueChanges=new Ce,this.statusChanges=new Ce}_calculateStatus(){return this._allControlsDisabled()?Ye:this.errors?bt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ae)?Ae:this._anyControlsHaveStatus(bt)?bt:Ze}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,r){let n=!this._anyControlsDirty(),i=this.pristine!==n;this.pristine=n,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),i&&this._events.next(new Je(this.pristine,r))}_updateTouched(e={},r){this.touched=this._anyControlsTouched(),this._events.next(new Xe(this.touched,r)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Pt(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let r=this._parent&&this._parent.dirty;return!e&&!!r&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Vo(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Lo(this._rawAsyncValidators)}},fe=class extends ke{constructor(e,r,n){super(pn(r),gn(n,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,r){return this.controls[e]?this.controls[e]:(this.controls[e]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(e,r,n={}){this.registerControl(e,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(e,r,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],r&&this.registerControl(e,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,r={}){Jr(this,!0,e),Object.keys(e).forEach(n=>{Qr(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(Object.keys(e).forEach(n=>{let i=this.controls[n];i&&i.patchValue(e[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e={},r={}){this._forEachChild((n,i)=>{n.reset(e?e[i]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(e,r,n)=>(e[n]=r.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(r,n)=>n._syncPendingControls()?!0:r);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(r=>{let n=this.controls[r];n&&e(n,r)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[r,n]of Object.entries(this.controls))if(this.contains(r)&&e(n))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(r,n,i)=>((n.enabled||this.disabled)&&(r[i]=n.value),r))}_reduceChildren(e,r){let n=e;return this._forEachChild((i,o)=>{n=r(n,i,o)}),n}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var un=class extends fe{};var tt=new De("CallSetDisabledState",{providedIn:"root",factory:()=>Rt}),Rt="always";function Xr(t,e){return[...e.path,t]}function At(t,e,r=Rt){mn(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||r==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Bo(t,e),$o(t,e),Ho(t,e),jo(t,e)}function kr(t,e,r=!0){let n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),kt(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ft(t,e){t.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function jo(t,e){if(e.valueAccessor.setDisabledState){let r=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(r),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(r)})}}function mn(t,e){let r=Zr(t);e.validator!==null?t.setValidators(Nr(r,e.validator)):typeof r=="function"&&t.setValidators([r]);let n=Yr(t);e.asyncValidator!==null?t.setAsyncValidators(Nr(n,e.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let i=()=>t.updateValueAndValidity();Ft(e._rawValidators,i),Ft(e._rawAsyncValidators,i)}function kt(t,e){let r=!1;if(t!==null){if(e.validator!==null){let i=Zr(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(r=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=Yr(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(r=!0,t.setAsyncValidators(o))}}}let n=()=>{};return Ft(e._rawValidators,n),Ft(e._rawAsyncValidators,n),r}function Bo(t,e){e.valueAccessor.registerOnChange(r=>{t._pendingValue=r,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&ei(t,e)})}function Ho(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&ei(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function ei(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function $o(t,e){let r=(n,i)=>{e.valueAccessor.writeValue(n),i&&e.viewToModelUpdate(n)};t.registerOnChange(r),e._registerOnDestroy(()=>{t._unregisterOnChange(r)})}function ti(t,e){t==null,mn(t,e)}function Uo(t,e){return kt(t,e)}function ni(t,e){if(!t.hasOwnProperty("model"))return!1;let r=t.model;return r.isFirstChange()?!0:!Object.is(e,r.currentValue)}function Go(t){return Object.getPrototypeOf(t.constructor)===Io}function ri(t,e){t._syncPendingControls(),e.forEach(r=>{let n=r.control;n.updateOn==="submit"&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function ii(t,e){if(!e)return null;Array.isArray(e);let r,n,i;return e.forEach(o=>{o.constructor===L?r=o:Go(o)?n=o:i=o}),i||n||r||null}function zo(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}var Wo={provide:ie,useExisting:le(()=>nt)},Qe=Promise.resolve(),nt=(()=>{let e=class e extends ie{constructor(n,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ce,this.form=new fe({},fn(n),hn(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Qe.then(()=>{let i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),At(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Qe.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Qe.then(()=>{let i=this._findContainer(n.path),o=new fe({});ti(o,n),i.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Qe.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){Qe.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,ri(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}};e.\u0275fac=function(i){return new(i||e)(d(Oe,10),d(Ot,10),d(tt,8))},e.\u0275dir=V({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&p("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[U([Wo]),Z]});let t=e;return t})();function Or(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}function Pr(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Q=class extends ke{constructor(e=null,r,n){super(pn(r),gn(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pt(r)&&(r.nonNullable||r.initialValueIsDefault)&&(Pr(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Or(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Or(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Pr(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var qo=t=>t instanceof Q;var Ko={provide:_e,useExisting:le(()=>oe)},Rr=Promise.resolve(),oe=(()=>{let e=class e extends _e{constructor(n,i,o,s,c,h){super(),this._changeDetectorRef=c,this.callSetDisabledState=h,this.control=new Q,this._registered=!1,this.name="",this.update=new Ce,this._parent=n,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=ii(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),ni(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){At(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Rr.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,o=i!==0&&on(i);Rr.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Xr(n,this._parent):[n]}};e.\u0275fac=function(i){return new(i||e)(d(ie,9),d(Oe,10),d(Ot,10),d(dn,10),d(wt,8),d(tt,8))},e.\u0275dir=V({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[U([Ko]),Z,Ke]});let t=e;return t})(),pe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=V({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var oi=new De("");var Zo={provide:ie,useExisting:le(()=>rt)},rt=(()=>{let e=class e extends ie{constructor(n,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ce,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let i=this.form.get(n.path);return At(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){kr(n.control||null,n,!1),zo(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this.submitted=!0,ri(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new ln(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1,this.form._events.next(new cn(this.form))}_updateDomValue(){this.directives.forEach(n=>{let i=n.control,o=this.form.get(n.path);i!==o&&(kr(i||null,n),qo(o)&&(At(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let i=this.form.get(n.path);ti(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let i=this.form.get(n.path);i&&Uo(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mn(this.form,this),this._oldForm&&kt(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(d(Oe,10),d(Ot,10),d(tt,8))},e.\u0275dir=V({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&p("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[U([Zo]),Z,Ke]});let t=e;return t})();var Yo={provide:_e,useExisting:le(()=>it)},it=(()=>{let e=class e extends _e{set isDisabled(n){}constructor(n,i,o,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new Ce,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=ii(this,s)}ngOnChanges(n){this._added||this._setUpControl(),ni(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Xr(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(d(ie,13),d(Oe,10),d(Ot,10),d(dn,10),d(oi,8))},e.\u0275dir=V({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[U([Yo]),Z,Ke]});let t=e;return t})();function Qo(t){return typeof t=="number"?t:parseInt(t,10)}var si=(()=>{let e=class e{constructor(){this._validator=Mt}ngOnChanges(n){if(this.inputName in n){let i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Mt,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=V({type:e,features:[Ke]});let t=e;return t})();var Jo={provide:Oe,useExisting:le(()=>yn),multi:!0};var yn=(()=>{let e=class e extends si{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=on,this.createValidator=n=>Br}enabled(n){return n}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ct(e)))(o||e)}})(),e.\u0275dir=V({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&nn("required",o._enabled?"":null)},inputs:{required:"required"},features:[U([Jo]),Z]});let t=e;return t})();var Xo={provide:Oe,useExisting:le(()=>vn),multi:!0},vn=(()=>{let e=class e extends si{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>Qo(n),this.createValidator=n=>Hr(n)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ct(e)))(o||e)}})(),e.\u0275dir=V({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&nn("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[U([Xo]),Z]});let t=e;return t})();var ai=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Dt({type:e}),e.\u0275inj=vt({});let t=e;return t})(),et=class extends ke{constructor(e,r,n){super(pn(r),gn(n,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,r={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(e,r,n={}){this.controls.splice(e,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,r={}){let n=this._adjustIndex(e);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(e,r,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),r&&(this.controls.splice(i,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,r={}){Jr(this,!1,e),e.forEach((n,i)=>{Qr(this,!1,i),this.at(i).setValue(n,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(e.forEach((n,i)=>{this.at(i)&&this.at(i).patchValue(n,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e=[],r={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((r,n)=>n._syncPendingControls()?!0:r,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((r,n)=>{e(r,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(r=>r.enabled&&e(r))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Vr(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var li=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,i=null){let o=this._reduceControls(n),s={};return Vr(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new fe(o,s)}record(n,i=null){let o=this._reduceControls(n);return new un(o,i)}control(n,i,o){let s={};return this.useNonNullable?(Vr(i)?s=i:(s.validators=i,s.asyncValidators=o),new Q(n,F(T({},s),{nonNullable:!0}))):new Q(n,i,o)}array(n,i,o){let s=n.map(c=>this._createControl(c));return new et(s,i,o)}_reduceControls(n){let i={};return Object.keys(n).forEach(o=>{i[o]=this._createControl(n[o])}),i}_createControl(n){if(n instanceof Q)return n;if(n instanceof ke)return n;if(Array.isArray(n)){let i=n[0],o=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(i,o,s)}else return this.control(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var q=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:tt,useValue:n.callSetDisabledState??Rt}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Dt({type:e}),e.\u0275inj=vt({imports:[ai]});let t=e;return t})(),Vt=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:oi,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:tt,useValue:n.callSetDisabledState??Rt}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Dt({type:e}),e.\u0275inj=vt({imports:[ai]});let t=e;return t})();var ge={production:!1,apiUrlKnowledge:"http://localhost:8080/api/knowledge",apiUrlCategories:"http://localhost:8080/api/categories",apiUrlCategoriesKnowledges:"http://localhost:8080/api/categories-knowledges",apiUrlPassword:"http://localhost:8080/api/users"};var Pe=(()=>{let e=class e{constructor(){}handleError(n){let i="";switch(n.status){case 400:i="Bad Request: The server could not understand the request.";break;case 401:i="Unauthorized: Access is denied due to invalid credentials.";break;case 403:i="Forbidden: You do not have permission to access the resource.";break;case 404:i="Not Found: The requested resource could not be found.";break;case 500:i="Internal Server Error: An error occurred on the server.";break;default:i=`Unexpected error occurred: ${n.message}`;break}return console.error(i),dr(()=>new Error(i))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var me=(()=>{let e=class e{constructor(n,i){this.http=n,this.errorHandlingService=i,this.apiUrl=ge.apiUrlKnowledge}getKnowledge(){let n=`${this.apiUrl}/all`,o={Authorization:`Bearer ${localStorage.getItem("token")}`};return this.http.get(n,{headers:o}).pipe(b(this.errorHandlingService.handleError))}getKnowledgeById(n){let i=`${this.apiUrl}/${n}`,s={Authorization:`Bearer ${localStorage.getItem("token")}`};return this.http.get(i,{headers:s}).pipe(b(this.errorHandlingService.handleError))}getKnowledgeByTitleAndAuthor(n,i){let o=`${this.apiUrl}/${n}/${i}`,c={Authorization:`Bearer ${localStorage.getItem("token")}`};return this.http.get(o,{headers:c}).pipe(b(this.errorHandlingService.handleError))}getKnowledgeByTitlePhrase(n){let i=`${this.apiUrl}/search/${n}`,s={Authorization:`Bearer ${localStorage.getItem("token")}`};return this.http.get(i,{headers:s}).pipe(b(this.errorHandlingService.handleError))}findBy(n){let i=`${this.apiUrl}/searchAll/${n}`,s={Authorization:`Bearer ${localStorage.getItem("token")}`};return this.http.get(i,{headers:s}).pipe(b(this.errorHandlingService.handleError))}createKnowledge(n){let o={Authorization:`Bearer ${localStorage.getItem("token")}`};return this.http.post(this.apiUrl,n,{headers:o}).pipe(b(this.errorHandlingService.handleError))}updateKnowledge(n){let i=`${this.apiUrl}/${n.idKnowledge}`,s={Authorization:`Bearer ${localStorage.getItem("token")}`};return this.http.put(i,n,{headers:s}).pipe(b(this.errorHandlingService.handleError))}deleteKnowledge(n){let i=`${this.apiUrl}/${n}`,s={Authorization:`Bearer ${localStorage.getItem("token")}`};return this.http.delete(i,{headers:s}).pipe(b(this.errorHandlingService.handleError))}};e.\u0275fac=function(i){return new(i||e)(A(z),A(Pe))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function es(t,e){t&1&&(a(0,"div",13),u(1," Tytu\u0142 jest wymagany. Mo\u017Ce zawiera\u0107 tylko litery i cyfry. "),l())}function ts(t,e){t&1&&(a(0,"div",13),u(1," Zawarto\u015B\u0107 jest wymagana. "),l())}function ns(t,e){t&1&&(a(0,"div",13),u(1," Prosz\u0119 wpisa\u0107 autora. Mo\u017Ce zawiera\u0107 tylko litery i cyfry. "),l())}var ci=(()=>{let e=class e{constructor(n,i,o){this.serviceKnowledge=n,this.fb=i,this.router=o,this.validatorString="^[a-zA-Z,.!?\\s-]+$"}ngOnInit(){this.knowledgeForm=this.fb.group({title:["",[ue.required,ue.pattern(this.validatorString)]],content:["",[ue.required]],author:["",[ue.required,ue.pattern(this.validatorString)]]})}onSubmit(){this.knowledgeForm.valid?(console.log("Warto\u015Bci w forms: "),console.table(this.knowledgeForm.value),this.serviceKnowledge.createKnowledge(this.knowledgeForm.value).subscribe({next:()=>{this.router.navigate(["knowledge"])},error:n=>console.log(n)})):console.log("Not correct form")}backToKnowledge(){this.router.navigate(["knowledge"])}};e.\u0275fac=function(i){return new(i||e)(d(me),d(li),d(N))},e.\u0275cmp=C({type:e,selectors:[["app-knowledge-form"]],standalone:!0,features:[w],decls:23,vars:4,consts:[[1,"pagebutton","back"],["type","button",1,"button","buttonBack",3,"click"],[1,"container"],[3,"ngSubmit","formGroup"],[1,"formGroup"],["for","title",1,"label"],["type","text","id","title","formControlName","title",1,"formControl"],["class","textDanger",4,"ngIf"],["for","content",1,"label"],["type","text","id","content","formControlName","content",1,"formControl"],["for","author",1,"label"],["type","text","id","author","formControlName","author",1,"formControl"],["type","submit",1,"button","buttonSubmit"],[1,"textDanger"]],template:function(i,o){if(i&1&&(a(0,"div",0)(1,"button",1),p("click",function(){return o.backToKnowledge()}),l(),a(2,"p"),u(3,"Cofnij"),l()(),a(4,"div",2)(5,"form",3),p("ngSubmit",function(){return o.onSubmit()}),a(6,"div",4)(7,"label",5),u(8,"Tytu\u0142"),l(),M(9,"input",6),D(10,es,2,0,"div",7),l(),a(11,"div",4)(12,"label",8),u(13,"Zawarto\u015B\u0107"),l(),M(14,"input",9),D(15,ts,2,0,"div",7),l(),a(16,"div",4)(17,"label",10),u(18,"Autor"),l(),M(19,"input",11),D(20,ns,2,0,"div",7),l(),a(21,"button",12),u(22,"Dodaj"),l()()()),i&2){let s,c,h;f(5),m("formGroup",o.knowledgeForm),f(5),m("ngIf",(o.knowledgeForm==null||(s=o.knowledgeForm.get("title"))==null?null:s.invalid)&&(o.knowledgeForm==null||(s=o.knowledgeForm.get("title"))==null?null:s.touched)),f(5),m("ngIf",(o.knowledgeForm==null||(c=o.knowledgeForm.get("content"))==null?null:c.invalid)&&(o.knowledgeForm==null||(c=o.knowledgeForm.get("content"))==null?null:c.touched)),f(5),m("ngIf",(o.knowledgeForm==null||(h=o.knowledgeForm.get("author"))==null?null:h.invalid)&&(o.knowledgeForm==null||(h=o.knowledgeForm.get("author"))==null?null:h.touched))}},dependencies:[ee,Vt,pe,L,W,he,rt,it],styles:[".container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;font-size:14px;margin:25 px;width:500 px;max-height:80vh;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.formGroup[_ngcontent-%COMP%]{margin-bottom:20px}.back[_ngcontent-%COMP%]{font-family:Arial,sans-serif;position:absolute;font-size:12px;top:10px;left:30px;display:flex;white-space:nowrap}#title[_ngcontent-%COMP%]{width:1000px;height:100px}#content[_ngcontent-%COMP%]{width:1000px;height:1000px}#author[_ngcontent-%COMP%]{width:1000px}.label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}"]});let t=e;return t})();var Re=(()=>{let e=class e{constructor(n,i){this.http=n,this.errorHandlingService=i,this.apiUrl=ge.apiUrlCategories}getCategories(){let n=`${this.apiUrl}/all`;return this.http.get(n).pipe(b(this.errorHandlingService.handleError))}getCategory(n,i){let o=new Te;return n&&(o=o.set("id",n.toString()),console.log("Service: id: "+n.toString())),i&&(o=o.set("categoryName",i),console.log("Service: categoryName: "+i)),this.http.get(this.apiUrl,{params:o})}findByCategoryName(n){let i=`${this.apiUrl}/searchAll/${n}`;return this.http.get(i).pipe(b(this.errorHandlingService.handleError))}createCategory(n){return this.http.post(this.apiUrl,n).pipe(b(this.errorHandlingService.handleError))}deleteCategory(n){let i=`${this.apiUrl}/${n}`;return this.http.delete(i).pipe(b(this.errorHandlingService.handleError))}};e.\u0275fac=function(i){return new(i||e)(A(z),A(Pe))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var di=(()=>{let e=class e{constructor(n,i){this.http=n,this.errorHandlingService=i,this.apiUrl=ge.apiUrlCategoriesKnowledges}getCategoryKnowledgeGroupsByCategory(n){let i=`${this.apiUrl}/by-category/${n}`;return this.http.get(i).pipe(b(this.errorHandlingService.handleError))}getCategoryKnowledgeGroupByKnowledge(n){let i=`${this.apiUrl}/by-knowledge/${n}`;return this.http.get(i).pipe(b(this.errorHandlingService.handleError))}getCategoryKnowledgeGroup(n,i){let o=`${this.apiUrl}/element/${n}/${i}`;return this.http.get(o).pipe(b(this.errorHandlingService.handleError))}createCategoryKnowledgeGroup(n){return this.http.post(this.apiUrl,n).pipe(b(this.errorHandlingService.handleError))}};e.\u0275fac=function(i){return new(i||e)(A(z),A(Pe))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function is(t,e){if(t&1){let r=x();a(0,"div",5)(1,"button",6),p("click",function(){y(r);let i=g();return v(i.backToDetail())}),l(),a(2,"p"),u(3,"Cofnij"),l()()}}function os(t,e){if(t&1){let r=x();a(0,"div",5)(1,"button",6),p("click",function(){y(r);let i=g();return v(i.backToKnowledge())}),l(),a(2,"p"),u(3,"Cofnij"),l()()}}function ss(t,e){if(t&1){let r=x();a(0,"div",7)(1,"p"),u(2,"Usu\u0144 z bazy wiedzy"),l(),a(3,"button",8),p("click",function(){y(r);let i=g();return v(i.deleteKnowledge(i.knowledge))}),l()()}}function as(t,e){if(t&1){let r=x();a(0,"div",9)(1,"p"),u(2,"Edytuj"),l(),a(3,"button",10),p("click",function(){y(r);let i=g();return v(i.editKnowledge(i.knowledge))}),l()()}}function ls(t,e){if(t&1&&(a(0,"li"),u(1),l()),t&2){let r=e.$implicit;f(),mr("category: ",r.groupId.idCategory,", knowledge: ",r.groupId.idKnowledge," ")}}function cs(t,e){if(t&1&&(a(0,"div")(1,"p",11),u(2),l(),a(3,"p"),u(4),l(),a(5,"ul"),D(6,ls,2,2,"li",12),l()()),t&2){let r=g();f(2),Y(r.knowledge.title),f(2),Y(r.knowledge.content),f(2),m("ngForOf",r.knowledge.knowledgeCategories)}}function us(t,e){t&1&&(a(0,"div",25),u(1," Tytu\u0142 jest wymagany. "),l())}function ds(t,e){t&1&&(a(0,"div",25),u(1," Zawarto\u015B\u0107 jest wymagana. "),l())}function fs(t,e){if(t&1){let r=x();a(0,"li")(1,"label")(2,"input",26),p("change",function(i){let o=y(r).$implicit,s=g(2);return v(s.onCategoryChange(i,o))}),l(),u(3),l()()}if(t&2){let r=e.$implicit,n=g(2);f(2),m("value",r.idCategory)("checked",n.isSelected(r)),f(),we(" ",r.categoryName," ")}}function hs(t,e){t&1&&(a(0,"div",25),u(1," Prosz\u0119 wpisa\u0107 autora. "),l())}function ps(t,e){if(t&1){let r=x();hr(0),a(1,"p"),u(2,"Edytuj"),l(),a(3,"form",13),p("ngSubmit",function(){y(r);let i=g();return v(i.onSubmit())}),a(4,"div",14)(5,"label",15),u(6,"Tytu\u0142"),l(),M(7,"input",16),D(8,us,2,0,"div",17),l(),a(9,"div",14)(10,"label",18),u(11,"Zawarto\u015B\u0107"),l(),M(12,"input",19),D(13,ds,2,0,"div",17),l(),a(14,"div",14)(15,"label",20),u(16,"Kategorie"),l(),a(17,"p"),u(18,"Przytrzymaj Command(na macu) lub Control(na Windowsie) aby wybra\u0107 kilka element\xF3w"),l(),a(19,"div",21)(20,"ul"),D(21,fs,4,3,"li",12),l()()(),a(22,"div",14)(23,"label",22),u(24,"Autor"),l(),M(25,"input",23),D(26,hs,2,0,"div",17),l(),a(27,"button",24),u(28,"Zaktualizuj"),l()(),pr()}if(t&2){let r,n,i,o=g();f(3),m("formGroup",o.knowledgeForm),f(5),m("ngIf",(o.knowledgeForm==null||(r=o.knowledgeForm.get("title"))==null?null:r.invalid)&&(o.knowledgeForm==null||(r=o.knowledgeForm.get("title"))==null?null:r.touched)),f(5),m("ngIf",(o.knowledgeForm==null||(n=o.knowledgeForm.get("content"))==null?null:n.invalid)&&(o.knowledgeForm==null||(n=o.knowledgeForm.get("content"))==null?null:n.touched)),f(8),m("ngForOf",o.categories),f(5),m("ngIf",(o.knowledgeForm==null||(i=o.knowledgeForm.get("author"))==null?null:i.invalid)&&(o.knowledgeForm==null||(i=o.knowledgeForm.get("author"))==null?null:i.touched))}}var wn=(()=>{let e=class e{constructor(n,i,o,s,c,h){this.cd=n,this.serviceKnowledge=i,this.serviceCategory=o,this.serviceCKG=s,this.route=c,this.router=h,this.categoryKnowledgeGroups=[],this.categories=[],this.selectedCategoryIds=[],this.id=""}ngOnInit(){this.route.params.subscribe(n=>{this.id=n.id;let i=parseInt(n.id,10);this.fetchKnowledgeDetails(i)}),this.loadCategories()}loadCategories(){this.serviceCategory.getCategories().subscribe({next:n=>{this.categories=n,this.cd.detectChanges()},error:n=>console.log(n)})}fetchKnowledgeDetails(n){this.serviceKnowledge.getKnowledgeById(n).subscribe({next:i=>{this.knowledge=i},error:i=>console.log(i)})}backToKnowledge(){this.router.navigate(["knowledge"])}backToDetail(){this.knowledge&&this.router.navigate(["knowledge/detail/",this.knowledge.idKnowledge])}deleteKnowledge(n){console.log("Delete by id: "+n.idKnowledge),this.serviceKnowledge.deleteKnowledge(n.idKnowledge).subscribe(),this.router.navigate(["knowledge"])}editKnowledge(n){this.knowledgeForm=new fe({idKnowledge:new Q(n.idKnowledge),title:new Q(n.title),content:new Q(n.content),author:new Q(n.author),knowledgeCategories:new et([])}),this.router.navigate(["knowledge/detail/edit/",n.idKnowledge])}onCategoryChange(n,i){n.target.checked?this.selectedCategoryIds.push(i.idCategory):this.selectedCategoryIds=this.selectedCategoryIds.filter(s=>s!==i.idCategory),console.log("Selected category IDs:",this.selectedCategoryIds)}isSelected(n){return this.selectedCategoryIds.includes(n.idCategory)}onSubmit(){if(this.knowledgeForm.valid&&this.knowledge){console.log("Warto\u015Bci w forms: "),console.table(this.knowledgeForm.value),this.knowledgeTemp=this.knowledgeForm.value,console.log("Knowledge temp"),console.log(this.knowledgeTemp);for(var n=0;n<this.selectedCategoryIds.length;n++){let i=this.selectedCategoryIds[n];this.categoryKnowledgeGroupTemp={groupId:{idCategory:i,idKnowledge:this.knowledgeTemp.idKnowledge},category:this.categories.find(o=>o.idCategory===i),knowledge:this.knowledgeTemp},console.log("This categoryKnowledgeGroup temp:"),console.log(this.categoryKnowledgeGroupTemp),this.serviceCKG.createCategoryKnowledgeGroup(this.categoryKnowledgeGroupTemp).subscribe({next:o=>{console.log("Successfully created CategoryKnowledgeGroup:",o),this.knowledgeForm.knowledgeCategories.push(new Q(o))},error:o=>{console.error("Error creating CategoryKnowledgeGroup:",o)}})}console.log("Form value after update:"),console.log(this.knowledgeForm.value),this.serviceKnowledge.updateKnowledge(this.knowledgeForm.value).subscribe({next:()=>{this.knowledge&&this.knowledge.idKnowledge?this.router.navigate(["knowledge/detail",this.knowledge.idKnowledge]):console.error("Knowledge object or its id is undefined")},error:i=>console.log(i)})}else console.log("Form is invalid or knowledge is not defined")}};e.\u0275fac=function(i){return new(i||e)(d(wt),d(me),d(Re),d(di),d(_t),d(N))},e.\u0275cmp=C({type:e,selectors:[["app-knowledge-detail"]],standalone:!0,features:[w],decls:7,vars:6,consts:[["class","pagebutton back",4,"ngIf"],["class","pagebutton delete",4,"ngIfKnowledgeForm","ngIf"],["class","pagebutton edit",4,"ngIfKnowledgeForm","ngIf"],[1,"container"],[4,"ngIf"],[1,"pagebutton","back"],["type","button",1,"button","buttonBack",3,"click"],[1,"pagebutton","delete"],["type","button",1,"button","buttonRemove",3,"click"],[1,"pagebutton","edit"],["type","button",1,"button","buttonEdit",3,"click"],["id","title"],[4,"ngFor","ngForOf"],[3,"ngSubmit","formGroup"],[1,"formGroup"],["for","titleEdit",1,"label"],["type","text","id","titleEdit","formControlName","title",1,"formControl"],["class","textDanger",4,"ngIf"],["for","contentEdit",1,"label"],["type","text","id","contentEdit","formControlName","content",1,"formControl"],[1,"label"],[1,"wrapper"],["for","authorEdit",1,"label"],["type","text","id","authorEdit","formControlName","author",1,"formControl"],["type","submit",1,"button","buttonSubmit"],[1,"textDanger"],["type","checkbox",3,"change","value","checked"]],template:function(i,o){i&1&&(D(0,is,4,0,"div",0)(1,os,4,0,"div",0)(2,ss,4,0,"div",1)(3,as,4,0,"div",2),a(4,"div",3),D(5,cs,7,3,"div",4)(6,ps,29,5,"ng-container",4),l()),i&2&&(m("ngIf",o.knowledgeForm),f(),m("ngIf",!o.knowledgeForm),f(),m("ngIf",o.knowledge),f(),m("ngIf",o.knowledge),f(2),m("ngIf",o.knowledge&&!o.knowledgeForm),f(),m("ngIf",o.knowledgeForm))},dependencies:[ee,X,Vt,pe,L,W,he,rt,it],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%;margin:0;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;font-size:14px;margin:25 px;width:500 px;max-height:80vh;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.wrapper[_ngcontent-%COMP%]{width:500px;padding:20px;height:200px}.pagebutton[_ngcontent-%COMP%]{font-family:Arial,sans-serif;position:absolute;font-size:12px;display:flex;white-space:nowrap}.back[_ngcontent-%COMP%]{top:10px;left:30px}#title[_ngcontent-%COMP%]{font-size:24px}.edit[_ngcontent-%COMP%]{top:60px;right:30px}.delete[_ngcontent-%COMP%]{top:20px;right:30px}.formGroup[_ngcontent-%COMP%]{margin-bottom:20px}#titleEdit[_ngcontent-%COMP%]{width:1000px;height:100px}#contentEdit[_ngcontent-%COMP%]{width:1000px;height:1000px}#authorEdit[_ngcontent-%COMP%]{width:1000px}.label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.buttonSubmit[_ngcontent-%COMP%]{width:90px}"]});let t=e;return t})();var fi=null;function se(t){let e=fi;return fi=t,e}var _n={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function K(t){return typeof t=="function"}function Lt(t){let r=t(n=>{Error.call(n),n.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var jt=Lt(t=>function(r){t(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((n,i)=>`${i+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function st(t,e){if(t){let r=t.indexOf(e);0<=r&&t.splice(r,1)}}var B=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let o of r)o.remove(this);else r.remove(this);let{initialTeardown:n}=this;if(K(n))try{n()}catch(o){e=o instanceof jt?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{hi(o)}catch(s){e=e??[],s instanceof jt?e=[...e,...s.errors]:e.push(s)}}if(e)throw new jt(e)}}add(e){var r;if(e&&e!==this)if(this.closed)hi(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}}_hasParent(e){let{_parentage:r}=this;return r===e||Array.isArray(r)&&r.includes(e)}_addParent(e){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e}_removeParent(e){let{_parentage:r}=this;r===e?this._parentage=null:Array.isArray(r)&&st(r,e)}remove(e){let{_finalizers:r}=this;r&&st(r,e),e instanceof t&&e._removeParent(this)}};B.EMPTY=(()=>{let t=new B;return t.closed=!0,t})();var En=B.EMPTY;function Bt(t){return t instanceof B||t&&"closed"in t&&K(t.remove)&&K(t.add)&&K(t.unsubscribe)}function hi(t){K(t)?t():t.unsubscribe()}var J={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ve={setTimeout(t,e,...r){let{delegate:n}=Ve;return n?.setTimeout?n.setTimeout(t,e,...r):setTimeout(t,e,...r)},clearTimeout(t){let{delegate:e}=Ve;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function pi(t){Ve.setTimeout(()=>{let{onUnhandledError:e}=J;if(e)e(t);else throw t})}function In(){}var gi=bn("C",void 0,void 0);function mi(t){return bn("E",void 0,t)}function yi(t){return bn("N",t,void 0)}function bn(t,e,r){return{kind:t,value:e,error:r}}var Ie=null;function Le(t){if(J.useDeprecatedSynchronousErrorHandling){let e=!Ie;if(e&&(Ie={errorThrown:!1,error:null}),t(),e){let{errorThrown:r,error:n}=Ie;if(Ie=null,r)throw n}}else t()}function vi(t){J.useDeprecatedSynchronousErrorHandling&&Ie&&(Ie.errorThrown=!0,Ie.error=t)}var at=class extends B{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Bt(e)&&e.add(this)):this.destination=ys}static create(e,r,n){return new je(e,r,n)}next(e){this.isStopped?xn(yi(e),this):this._next(e)}error(e){this.isStopped?xn(mi(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?xn(gi,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},gs=Function.prototype.bind;function Mn(t,e){return gs.call(t,e)}var Sn=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:r}=this;if(r.next)try{r.next(e)}catch(n){Ht(n)}}error(e){let{partialObserver:r}=this;if(r.error)try{r.error(e)}catch(n){Ht(n)}else Ht(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(r){Ht(r)}}},je=class extends at{constructor(e,r,n){super();let i;if(K(e)||!e)i={next:e??void 0,error:r??void 0,complete:n??void 0};else{let o;this&&J.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Mn(e.next,o),error:e.error&&Mn(e.error,o),complete:e.complete&&Mn(e.complete,o)}):i=e}this.destination=new Sn(i)}};function Ht(t){J.useDeprecatedSynchronousErrorHandling?vi(t):pi(t)}function ms(t){throw t}function xn(t,e){let{onStoppedNotification:r}=J;r&&Ve.setTimeout(()=>r(t,e))}var ys={closed:!0,next:In,error:ms,complete:In};var Di=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ci(t){return t}function wi(t){return t.length===0?Ci:t.length===1?t[0]:function(r){return t.reduce((n,i)=>i(n),r)}}var Tn=(()=>{class t{constructor(r){r&&(this._subscribe=r)}lift(r){let n=new t;return n.source=this,n.operator=r,n}subscribe(r,n,i){let o=Ds(r)?r:new je(r,n,i);return Le(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return n=_i(n),new n((i,o)=>{let s=new je({next:c=>{try{r(c)}catch(h){o(h),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(r){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(r)}[Di](){return this}pipe(...r){return wi(r)(this)}toPromise(r){return r=_i(r),new r((n,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>n(o))})}}return t.create=e=>new t(e),t})();function _i(t){var e;return(e=t??J.Promise)!==null&&e!==void 0?e:Promise}function vs(t){return t&&K(t.next)&&K(t.error)&&K(t.complete)}function Ds(t){return t&&t instanceof at||vs(t)&&Bt(t)}var Ei=Lt(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Be=(()=>{class t extends Tn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){let n=new $t(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new Ei}next(r){Le(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(r)}})}error(r){Le(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;let{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){Le(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){let{hasError:n,isStopped:i,observers:o}=this;return n||i?En:(this.currentObservers=null,o.push(r),new B(()=>{this.currentObservers=null,st(o,r)}))}_checkFinalizedStatuses(r){let{hasError:n,thrownError:i,isStopped:o}=this;n?r.error(i):o&&r.complete()}asObservable(){let r=new Tn;return r.source=this,r}}return t.create=(e,r)=>new $t(e,r),t})(),$t=class extends Be{constructor(e,r){super(),this.destination=e,this.source=r}next(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.next)===null||n===void 0||n.call(r,e)}error(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.error)===null||n===void 0||n.call(r,e)}complete(){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||r===void 0||r.call(e)}_subscribe(e){var r,n;return(n=(r=this.source)===null||r===void 0?void 0:r.subscribe(e))!==null&&n!==void 0?n:En}};var lt=class extends Be{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let r=super._subscribe(e);return!r.closed&&e.next(this._value),r}getValue(){let{hasError:e,thrownError:r,_value:n}=this;if(e)throw r;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var R=class extends Error{constructor(e,r){super(Cs(e,r)),this.code=e}};function Cs(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ws(t){return{toString:t}.toString()}function S(t){for(let e in t)if(t[e]===S)return e;throw Error("Could not find renamed property on target object.")}function ne(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ne).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r===-1?e:e.substring(0,r)}var _s=S({__forward_ref__:S});function Li(t){return t.__forward_ref__=Li,t.toString=function(){return ne(this())},t}function te(t){return Es(t)?t():t}function Es(t){return typeof t=="function"&&t.hasOwnProperty(_s)&&t.__forward_ref__===Li}function xe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ht(t){return{providers:t.providers||[],imports:t.imports||[]}}function Zn(t){return Ii(t,ji)||Ii(t,Bi)}function Ii(t,e){return t.hasOwnProperty(e)?t[e]:null}function Is(t){let e=t&&(t[ji]||t[Bi]);return e||null}function bi(t){return t&&(t.hasOwnProperty(Mi)||t.hasOwnProperty(bs))?t[Mi]:null}var ji=S({\u0275prov:S}),Mi=S({\u0275inj:S}),Bi=S({ngInjectableDef:S}),bs=S({ngInjectorDef:S}),H=class{constructor(e,r){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.\u0275prov=xe({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Hi(t){return t&&!!t.\u0275providers}var Ms=S({\u0275cmp:S});var xi=S({\u0275fac:S});var Si=S({__NG_ENV_ID__:S});function xs(t,e){throw new R(-201,!1)}var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(j||{}),Fn;function $i(){return Fn}function He(t){let e=Fn;return Fn=t,e}function Ss(t,e,r){let n=Zn(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(r&j.Optional)return null;if(e!==void 0)return e;xs(t,"Injector")}var Ts={},ft=Ts,Ns="__NG_DI_FLAG__",Gt="ngTempTokenPath",As="ngTokenPath",Fs=/\n/gm,ks="\u0275",Ti="__source",Ge;function Os(){return Ge}function $e(t){let e=Ge;return Ge=t,e}function Ps(t,e=j.Default){if(Ge===void 0)throw new R(-203,!1);return Ge===null?Ss(t,void 0,e):Ge.get(t,e&j.Optional?null:void 0,e)}function ae(t,e=j.Default){return($i()||Ps)(te(t),e)}function dt(t,e=j.Default){return ae(t,Ui(e))}function Ui(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function kn(t){let e=[];for(let r=0;r<t.length;r++){let n=te(t[r]);if(Array.isArray(n)){if(n.length===0)throw new R(900,!1);let i,o=j.Default;for(let s=0;s<n.length;s++){let c=n[s],h=Rs(c);typeof h=="number"?h===-1?i=c.token:o|=h:i=c}e.push(ae(i,o))}else e.push(ae(n))}return e}function Rs(t){return t[Ns]}function Vs(t,e,r,n){let i=t[Gt];throw e[Ti]&&i.unshift(e[Ti]),t.message=Ls(`
`+t.message,i,r,n),t[As]=i,t[Gt]=null,t}function Ls(t,e,r,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==ks?t.slice(2):t;let i=ne(e);if(Array.isArray(e))i=e.map(ne).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):ne(c)))}i=`{${o.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${t.replace(Fs,`
  `)}`}function zt(t,e){let r=t.hasOwnProperty(xi);return r?t[xi]:null}function Yn(t,e){t.forEach(r=>Array.isArray(r)?Yn(r,e):e(r))}var On={},ye=[],Gi=new H(""),zi=new H("",-1),Wi=new H(""),Wt=class{get(e,r=ft){if(r===ft){let n=new Error(`NullInjectorError: No provider for ${ne(e)}!`);throw n.name="NullInjectorError",n}return r}};function pt(t){return ws(()=>({type:t.type,bootstrap:t.bootstrap||ye,declarations:t.declarations||ye,imports:t.imports||ye,exports:t.exports||ye,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function js(t){return t[Ms]||null}function Bs(...t){return{\u0275providers:Hs(!0,t),\u0275fromNgModule:!0}}function Hs(t,...e){let r=[],n=new Set,i,o=s=>{r.push(s)};return Yn(e,s=>{let c=s;Pn(c,o,[],n)&&(i||=[],i.push(c))}),i!==void 0&&qi(i,o),r}function qi(t,e){for(let r=0;r<t.length;r++){let{ngModule:n,providers:i}=t[r];Qn(i,o=>{e(o,n)})}}function Pn(t,e,r,n){if(t=te(t),!t)return!1;let i=null,o=bi(t),s=!o&&js(t);if(!o&&!s){let h=t.ngModule;if(o=bi(h),o)i=h;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=n.has(i);if(s){if(c)return!1;if(n.add(i),s.dependencies){let h=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let _ of h)Pn(_,e,r,n)}}else if(o){if(o.imports!=null&&!c){n.add(i);let _;try{Yn(o.imports,mt=>{Pn(mt,e,r,n)&&(_||=[],_.push(mt))})}finally{}_!==void 0&&qi(_,e)}if(!c){let _=zt(i)||(()=>new i);e({provide:i,useFactory:_,deps:ye},i),e({provide:Wi,useValue:i,multi:!0},i),e({provide:Gi,useValue:()=>ae(i),multi:!0},i)}let h=o.providers;if(h!=null&&!c){let _=t;Qn(h,mt=>{e(mt,_)})}}else return!1;return i!==t&&t.providers!==void 0}function Qn(t,e){for(let r of t)Hi(r)&&(r=r.\u0275providers),Array.isArray(r)?Qn(r,e):e(r)}var $s=S({provide:String,useValue:S});function Ki(t){return t!==null&&typeof t=="object"&&$s in t}function Us(t){return!!(t&&t.useExisting)}function Gs(t){return!!(t&&t.useFactory)}function Rn(t){return typeof t=="function"}var zs=new H(""),Ut={},Ws={},Nn;function Zi(){return Nn===void 0&&(Nn=new Wt),Nn}var qt=class{},Vn=class extends qt{get destroyed(){return this._destroyed}constructor(e,r,n,i){super(),this.parent=r,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jn(e,s=>this.processProvider(s)),this.records.set(zi,Ue(void 0,this)),i.has("environment")&&this.records.set(qt,Ue(void 0,this));let o=this.records.get(zs);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Wi,ye,j.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=se(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let r=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of r)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),se(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let r=$e(this),n=He(void 0),i;try{return e()}finally{$e(r),He(n)}}get(e,r=ft,n=j.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Si))return e[Si](this);n=Ui(n);let i,o=$e(this),s=He(void 0);try{if(!(n&j.SkipSelf)){let h=this.records.get(e);if(h===void 0){let _=Js(e)&&Zn(e);_&&this.injectableDefInScope(_)?h=Ue(Ln(e),Ut):h=null,this.records.set(e,h)}if(h!=null)return this.hydrate(e,h)}let c=n&j.Self?Zi():this.parent;return r=n&j.Optional&&r===ft?null:r,c.get(e,r)}catch(c){if(c.name==="NullInjectorError"){if((c[Gt]=c[Gt]||[]).unshift(ne(e)),o)throw c;return Vs(c,e,"R3InjectorError",this.source)}else throw c}finally{He(s),$e(o)}}resolveInjectorInitializers(){let e=se(null),r=$e(this),n=He(void 0),i;try{let o=this.get(Gi,ye,j.Self);for(let s of o)s()}finally{$e(r),He(n),se(e)}}toString(){let e=[],r=this.records;for(let n of r.keys())e.push(ne(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new R(205,!1)}processProvider(e){e=te(e);let r=Rn(e)?e:te(e&&e.provide),n=Ks(e);if(!Rn(e)&&e.multi===!0){let i=this.records.get(r);i||(i=Ue(void 0,Ut,!0),i.factory=()=>kn(i.multi),this.records.set(r,i)),r=e,i.multi.push(e)}this.records.set(r,n)}hydrate(e,r){let n=se(null);try{return r.value===Ut&&(r.value=Ws,r.value=r.factory()),typeof r.value=="object"&&r.value&&Qs(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{se(n)}}injectableDefInScope(e){if(!e.providedIn)return!1;let r=te(e.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(e){let r=this._onDestroyHooks.indexOf(e);r!==-1&&this._onDestroyHooks.splice(r,1)}};function Ln(t){let e=Zn(t),r=e!==null?e.factory:zt(t);if(r!==null)return r;if(t instanceof H)throw new R(204,!1);if(t instanceof Function)return qs(t);throw new R(204,!1)}function qs(t){if(t.length>0)throw new R(204,!1);let r=Is(t);return r!==null?()=>r.factory(t):()=>new t}function Ks(t){if(Ki(t))return Ue(void 0,t.useValue);{let e=Zs(t);return Ue(e,Ut)}}function Zs(t,e,r){let n;if(Rn(t)){let i=te(t);return zt(i)||Ln(i)}else if(Ki(t))n=()=>te(t.useValue);else if(Gs(t))n=()=>t.useFactory(...kn(t.deps||[]));else if(Us(t))n=()=>ae(te(t.useExisting));else{let i=te(t&&(t.useClass||t.provide));if(Ys(t))n=()=>new i(...kn(t.deps));else return zt(i)||Ln(i)}return n}function Ue(t,e,r=!1){return{factory:t,value:e,multi:r?[]:void 0}}function Ys(t){return!!t.deps}function Qs(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Js(t){return typeof t=="function"||typeof t=="object"&&t instanceof H}function jn(t,e){for(let r of t)Array.isArray(r)?jn(r,e):r&&Hi(r)?jn(r.\u0275providers,e):e(r)}function Xs(){return $i()!==void 0||Os()!=null}var ea=1,We=2,Ni=3;var ta=10;var ze=21;var Yi=23;var na=1;function ra(t){return Array.isArray(t)&&t[na]===!0}var Bn=class{constructor(e,r,n){this.previousValue=e,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}};function ia(t,e,r,n){e!==null?e.applyValueToInputSignal(e,n):t[r]=n}function Jn(){return oa}function oa(t){return t.type.prototype.ngOnChanges&&(t.setInput=aa),sa}Jn.ngInherit=!0;function sa(){let t=Ji(this),e=t?.current;if(e){let r=t.previous;if(r===On)t.previous=e;else for(let n in e)r[n]=e[n];t.current=null,this.ngOnChanges(e)}}function aa(t,e,r,n,i){let o=this.declaredInputs[n],s=Ji(t)||la(t,{previous:On,current:null}),c=s.current||(s.current={}),h=s.previous,_=h[o];c[o]=new Bn(_&&_.currentValue,r,h===On),ia(t,e,i,r)}var Qi="__ngSimpleChanges__";function Ji(t){return t[Qi]||null}function la(t,e){return t[Qi]=e}function Xi(t){return(t[We]&128)===128}function ca(t){t[We]&1024||(t[We]|=1024,Xi(t)&&eo(t))}function eo(t){t[ta].changeDetectionScheduler?.notify(0);let e=Kt(t);for(;e!==null&&!(e[We]&8192||(e[We]|=8192,!Xi(e)));)e=Kt(e)}function ua(t,e){if((t[We]&256)===256)throw new R(911,!1);t[ze]===null&&(t[ze]=[]),t[ze].push(e)}function da(t,e){if(t[ze]===null)return;let r=t[ze].indexOf(e);r!==-1&&t[ze].splice(r,1)}function Kt(t){let e=t[Ni];return ra(e)?e[Ni]:e}var to={lFrame:ga(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function fa(){return to.lFrame.lView}function ha(){let t=pa();for(;t!==null&&t.type===64;)t=t.parent;return t}function pa(){return to.lFrame.currentTNode}function ga(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}var ma=256,iu=ma-1;function Ai(t,e=null,r=null,n){let i=ya(t,e,r,n);return i.resolveInjectorInitializers(),i}function ya(t,e=null,r=null,n,i=new Set){let o=[r||ye,Bs(t)];return n=n||(typeof t=="object"?void 0:ne(t)),new Vn(o,e||Zi(),n||null,i)}var be=class be{static create(e,r){if(Array.isArray(e))return Ai({name:""},r,e,"");{let n=e.name??"";return Ai({name:n},e.parent,e.providers,n)}}};be.THROW_IF_NOT_FOUND=ft,be.NULL=new Wt,be.\u0275prov=xe({token:be,providedIn:"any",factory:()=>ae(zi)}),be.__NG_ELEMENT_ID__=-1;var Fi=be;var va=new H("");va.__NG_ELEMENT_ID__=t=>{let e=ha();if(e===null)throw new R(204,!1);if(e.type&2)return e.value;if(t&j.Optional)return null;throw new R(204,!1)};var Da="ngOriginalError";function An(t){return t[Da]}var Ca=!0,no=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=wa,e.__NG_ENV_ID__=n=>n;let t=e;return t})(),Hn=class extends no{constructor(e){super(),this._lView=e}onDestroy(e){return ua(this._lView,e),()=>da(this._lView,e)}};function wa(){return new Hn(fa())}var _a=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new lt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=xe({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var $n=class extends Be{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Xs()&&(this.destroyRef=dt(no,{optional:!0})??void 0,this.pendingTasks=dt(_a,{optional:!0})??void 0)}emit(e){let r=se(null);try{super.next(e)}finally{se(r)}}subscribe(e,r,n){let i=e,o=r||(()=>null),s=n;if(e&&typeof e=="object"){let h=e;i=h.next?.bind(h),o=h.error?.bind(h),s=h.complete?.bind(h)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof B&&e.add(c),c}wrapInTimeout(e){return r=>{let n=this.pendingTasks?.add();setTimeout(()=>{e(r),n!==void 0&&this.pendingTasks?.remove(n)})}}},ct=$n;function Un(...t){}function Ea(t){let e,r;function n(){t=Un;try{r!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(r),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),n()}),typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(()=>{t(),n()})),()=>n()}var Xn="isAngularZone",ki=Xn+"_ID",Ia=0,Gn=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ct(!1),this.onMicrotaskEmpty=new ct(!1),this.onStable=new ct(!1),this.onError=new ct(!1);let{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Ca}=e;if(typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&n,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,xa(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Xn)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new R(909,!1)}run(e,r,n){return this._inner.run(e,r,n)}runTask(e,r,n,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,ba,Un,Un);try{return o.runTask(s,r,n)}finally{o.cancelTask(s)}}runGuarded(e,r,n){return this._inner.runGuarded(e,r,n)}runOutsideAngular(e){return this._outer.run(e)}},ba={};function er(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ma(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Ea(()=>{t.callbackScheduled=!1,zn(t),t.isCheckStableRunning=!0,er(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),zn(t)}function xa(t){let e=()=>{Ma(t)},r=Ia++;t._inner=t._inner.fork({name:"angular",properties:{[Xn]:!0,[ki]:r,[ki+r]:!0},onInvokeTask:(n,i,o,s,c,h)=>{if(Sa(h))return n.invokeTask(o,s,c,h);try{return Oi(t),n.invokeTask(o,s,c,h)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Pi(t)}},onInvoke:(n,i,o,s,c,h,_)=>{try{return Oi(t),n.invoke(o,s,c,h,_)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Ta(h)&&e(),Pi(t)}},onHasTask:(n,i,o,s)=>{n.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,zn(t),er(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,o,s)=>(n.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function zn(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Oi(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Pi(t){t._nesting--,er(t)}function Sa(t){return ro(t,"__ignore_ng_zone__")}function Ta(t){return ro(t,"__scheduler_tick__")}function ro(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Wn=class{constructor(){this._console=console}handleError(e){let r=this._findOriginalError(e);this._console.error("ERROR",e),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(e){let r=e&&An(e);for(;r&&An(r);)r=An(r);return r||null}};var Na="h",Aa="b";var ou=F(T({},_n),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{eo(t.lView)},consumerOnSignalRead(){this.lView[Yi]=this}});var su=F(T({},_n),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Kt(t.lView);for(;e&&!Fa(e[ea]);)e=Kt(e);e&&ca(e)},consumerOnSignalRead(){this.lView[Yi]=this}});function Fa(t){return t.type!==2}var au=new RegExp(`^(\\d+)*(${Aa}|${Na})*(.*)`);var qn=class{};function ka(t){let e=Error(`No component factory found for ${ne(t)}.`);return e[Oa]=t,e}var Oa="ngComponent";var Kn=class{resolveComponentFactory(e){throw ka(e)}},nr=class nr{};nr.NULL=new Kn;var Ri=nr;var ut=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ut||{});var Me=class Me{constructor(){this.ngZone=dt(Gn),this.scheduler=dt(qn),this.errorHandler=dt(Wn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Me.PHASES)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[e]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>r.hooks[e](r.pipelinedValue))}catch(n){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(n)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Me.PHASES=[ut.EarlyRead,ut.Write,ut.MixedReadWrite,ut.Read],Me.\u0275prov=xe({token:Me,providedIn:"root",factory:()=>new Me});var Vi=Me;var io=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=pt({type:e}),e.\u0275inj=ht({});let t=e;return t})();var Va=new H("JWT_OPTIONS"),rr=(()=>{class t{constructor(r=null){this.tokenGetter=r&&r.tokenGetter||function(){}}urlBase64Decode(r){let n=r.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:{n+="==";break}case 3:{n+="=";break}default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(n)}b64decode(r){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="";if(r=String(r).replace(/=+$/,""),r.length%4===1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let o=0,s,c,h=0;c=r.charAt(h++);~c&&(s=o%4?s*64+c:c,o++%4)?i+=String.fromCharCode(255&s>>(-2*o&6)):0)c=n.indexOf(c);return i}b64DecodeUnicode(r){return decodeURIComponent(Array.prototype.map.call(this.b64decode(r),n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(r=this.tokenGetter()){return r instanceof Promise?r.then(n=>this._decodeToken(n)):this._decodeToken(r)}_decodeToken(r){if(!r||r==="")return null;let n=r.split(".");if(n.length!==3)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");let i=this.urlBase64Decode(n[1]);if(!i)throw new Error("Cannot decode the token.");return JSON.parse(i)}getTokenExpirationDate(r=this.tokenGetter()){return r instanceof Promise?r.then(n=>this._getTokenExpirationDate(n)):this._getTokenExpirationDate(r)}_getTokenExpirationDate(r){let n;if(n=this.decodeToken(r),!n||!n.hasOwnProperty("exp"))return null;let i=new Date(0);return i.setUTCSeconds(n.exp),i}isTokenExpired(r=this.tokenGetter(),n){return r instanceof Promise?r.then(i=>this._isTokenExpired(i,n)):this._isTokenExpired(r,n)}_isTokenExpired(r,n){if(!r||r==="")return!0;let i=this.getTokenExpirationDate(r);return n=n||0,i===null?!1:!(i.valueOf()>new Date().valueOf()+n*1e3)}getAuthScheme(r,n){return typeof r=="function"?r(n):r}}return t.\u0275fac=function(r){return new(r||t)(ae(Va))},t.\u0275prov=xe({token:t,factory:t.\u0275fac}),t})();var Zt=(()=>{let e=class e{set token(n){localStorage.setItem("token",n)}get token(){return localStorage.getItem("token")}isTokenValid(){let n=this.token;return n?new rr().isTokenExpired(n)?(localStorage.clear(),!1):!0:!1}isTokenNotValid(){return!this.isTokenValid()}get userRoles(){let n=this.token;if(n){let o=new rr().decodeToken(n);return console.log(o.authorities),o.authorities}return[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function La(t,e){if(t&1){let r=x();a(0,"li")(1,"button",13),p("click",function(){let i=y(r).$implicit,o=g();return v(o.deleteKnowledge(i))}),l(),a(2,"button",14),p("click",function(){let i=y(r).$implicit,o=g();return v(o.selectKnowledge(i))}),u(3),l()()}if(t&2){let r=e.$implicit;f(3),we(" ",r.title," ")}}var so=(()=>{let e=class e{constructor(n,i,o){this.service=n,this.tokenService=i,this.router=o,this.knowledge=[],this.token=""}ngOnInit(){this.token=this.tokenService.token,this.loadKnowledge()}loadKnowledge(){this.service.getKnowledge().subscribe({next:n=>{this.knowledge=n},error:n=>console.log(n)})}selectKnowledge(n){this.selectedKnowledge=n,console.log("Navigate to: "+n.idKnowledge),this.router.navigate(["knowledge/detail",n.idKnowledge])}deleteKnowledge(n){console.log("Delete by id: "+n.idKnowledge),this.service.deleteKnowledge(n.idKnowledge).subscribe({error:i=>console.log(i)}),this.loadKnowledge()}searchKnowledge(n){n.trim()!==""?this.service.findBy(n).subscribe({next:i=>{this.knowledge=i},error:i=>console.log(i)}):this.loadKnowledge()}addKnowledge(){this.router.navigate(["knowledge/form"])}navigateToCategories(){this.router.navigate(["knowledge/categories"])}logout(){this.tokenService.token="",this.router.navigate([""])}};e.\u0275fac=function(i){return new(i||e)(d(me),d(Zt),d(N))},e.\u0275cmp=C({type:e,selectors:[["app-knowledge-list"]],standalone:!0,features:[U([me]),w],decls:21,vars:1,consts:[["attr",""],[1,"container"],[1,"add"],["type","button",1,"button","buttonAdd",3,"click"],[1,"search"],[3,"submit"],["type","text","placeholder","Szukaj w bazie wiedzy"],["type","submit"],[1,"categoriesSearch"],["type","button",1,"button","buttonToCategories",3,"click"],[1,"logout"],["type","button",1,"button","buttonLogout",3,"click"],[4,"ngFor","ngForOf"],["type","button",1,"button","buttonRemove",3,"click"],["type","button",1,"button","buttonDetails",3,"click"]],template:function(i,o){if(i&1){let s=x();a(0,"div",1)(1,"div",2)(2,"p"),u(3,"Dodaj do bazy wiedzy"),l(),a(4,"button",3),p("click",function(){return y(s),v(o.addKnowledge())}),l()(),a(5,"div",4)(6,"form",5),p("submit",function(h){y(s);let _=gr(8);return o.searchKnowledge(_.value),v(h.preventDefault())}),M(7,"input",6,0),a(9,"button",7),u(10,"Szukaj"),l()()(),a(11,"div",8)(12,"p"),u(13,"Przejd\u017A do kategorii"),l(),a(14,"button",9),p("click",function(){return y(s),v(o.navigateToCategories())}),l()(),a(15,"div",10)(16,"p"),u(17,"Wyloguj"),l(),a(18,"button",11),p("click",function(){return y(s),v(o.logout())}),l()(),a(19,"ul"),D(20,La,4,1,"li",12),l()()}i&2&&(f(20),m("ngForOf",o.knowledge))},dependencies:[X,G,q,pe,he,nt],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%;margin:0;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;font-size:24px;margin:25 px;width:100%;height:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.search[_ngcontent-%COMP%]{position:absolute;font-size:12px;top:130px;right:30px;display:flex;white-space:nowrap}.add[_ngcontent-%COMP%]{position:absolute;font-size:12px;top:10px;right:30px;display:flex;white-space:nowrap}.categoriesSearch[_ngcontent-%COMP%]{position:absolute;font-size:12px;top:70px;right:30px;display:flex;white-space:nowrap}.logout[_ngcontent-%COMP%]{position:absolute;font-size:12px;top:180px;right:30px;display:flex;white-space:nowrap}ul[_ngcontent-%COMP%]{max-height:80vh;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}li[_ngcontent-%COMP%]{display:flex;white-space:nowrap;justify-content:center;align-items:center;height:50px}ul[_ngcontent-%COMP%]{list-style-type:none}"]});let t=e;return t})();function ja(t,e){if(t&1&&(a(0,"li",6),u(1),l()),t&2){let r=e.$implicit,n=g(2);m("hidden",!n.isVisible),f(),we(" ",r.knowledge.idKnowledge," ")}}function Ba(t,e){if(t&1){let r=x();a(0,"li")(1,"button",4),p("click",function(){y(r);let i=g();return v(i.selectCategoryKnowledge())}),u(2),l(),a(3,"ul"),D(4,ja,2,2,"li",5),l()()}if(t&2){let r=e.$implicit;f(2),we(" ",r.categoryName," "),f(2),m("ngForOf",r.categoryKnowledges)}}var ao=(()=>{let e=class e{constructor(n,i){this.service=n,this.router=i,this.categories=[],this.isVisible=!1}ngOnInit(){this.loadCategories()}loadCategories(){this.service.getCategories().subscribe({next:n=>{this.categories=n},error:n=>console.log(n)})}backToKnowledge(){this.router.navigate(["knowledge"])}selectCategoryKnowledge(){this.isVisible=!this.isVisible}};e.\u0275fac=function(i){return new(i||e)(d(Re),d(N))},e.\u0275cmp=C({type:e,selectors:[["app-category-list"]],standalone:!0,features:[U([Re]),w],decls:7,vars:1,consts:[[1,"container"],[1,"pagebutton","back"],["type","button",1,"button","buttonBack",3,"click"],[4,"ngFor","ngForOf"],["type","button",1,"button","buttonDetails",3,"click"],["class","subListDetails",3,"hidden",4,"ngFor","ngForOf"],[1,"subListDetails",3,"hidden"]],template:function(i,o){i&1&&(a(0,"div",0)(1,"div",1)(2,"button",2),p("click",function(){return o.backToKnowledge()}),l(),a(3,"p"),u(4,"Cofnij"),l()(),a(5,"ul"),D(6,Ba,5,2,"li",3),l()()),i&2&&(f(6),m("ngForOf",o.categories))},dependencies:[X,G,q],styles:[".container[_ngcontent-%COMP%]{font-family:Arial,sans-serif;font-size:24px;margin:25 px;width:100%;height:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.back[_ngcontent-%COMP%]{font-family:Arial,sans-serif;position:absolute;font-size:12px;top:10px;left:30px;display:flex;white-space:nowrap}ul[_ngcontent-%COMP%]{max-height:80vh;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}li[_ngcontent-%COMP%]{display:flex;white-space:nowrap;justify-content:center;align-items:center;height:50px}"]});let t=e;return t})();var Yt=(()=>{let e=class e{constructor(){this.rootUrl="http://localhost:8080/api"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var co=(()=>{let e=class e{constructor(n,i){this.config=n,this.http=i}get rootUrl(){return this._rootUrl||this.config.rootUrl}set rootUrl(n){this._rootUrl=n}};e.\u0275fac=function(i){return new(i||e)(A(Yt),A(z))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();var ir=class{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}},Ha=new ir,gt=class{constructor(e,r,n,i,o){this.name=e,this.value=r,this.options=n,this.options=n||{},(this.options.style===null||this.options.style===void 0)&&(this.options.style=i),(this.options.explode===null||this.options.explode===void 0)&&(this.options.explode=o)}serializeValue(e,r=","){if(e==null)return"";if(e instanceof Array)return e.map(n=>this.serializeValue(n).split(r).join(encodeURIComponent(r))).join(r);if(typeof e=="object"){let n=[];for(let i of Object.keys(e)){let o=e[i];o!=null&&(o=this.serializeValue(o).split(r).join(encodeURIComponent(r)),this.options.explode?n.push(`${i}=${o}`):(n.push(i),n.push(o)))}return n.join(r)}else return String(e)}},or=class extends gt{constructor(e,r,n){super(e,r,n,"simple",!1)}append(e){let r=this.value;r==null&&(r="");let n=this.options.style==="label"?".":"",i=this.options.explode?n===""?",":n:",",o=!1;return this.options.style==="matrix"&&(n=`;${this.name}=`,this.options.explode&&typeof r=="object"&&(n=";",r instanceof Array?(r=r.map(s=>`${this.name}=${this.serializeValue(s,";")}`),r=r.join(";"),o=!0):(r=this.serializeValue(r,";"),o=!0))),r=n+(o?r:this.serializeValue(r,i)),e=e.replace(`{${this.name}}`,r),e=e.replace(`{${n}${this.name}${this.options.explode?"*":""}}`,r),e}serializeValue(e,r=","){var n=typeof e=="string"?encodeURIComponent(e):super.serializeValue(e,r);return n=n.replace(/%3D/g,"="),n=n.replace(/%3B/g,";"),n=n.replace(/%2C/g,","),n}},sr=class extends gt{constructor(e,r,n){super(e,r,n,"form",!0)}append(e){if(this.value instanceof Array)if(this.options.explode)for(let r of this.value)e=e.append(this.name,this.serializeValue(r));else{let r=this.options.style==="spaceDelimited"?" ":this.options.style==="pipeDelimited"?"|":",";return e.append(this.name,this.serializeValue(this.value,r))}else if(this.value!==null&&typeof this.value=="object")if(this.options.style==="deepObject")for(let r of Object.keys(this.value)){let n=this.value[r];n!=null&&(e=e.append(`${this.name}[${r}]`,this.serializeValue(n)))}else if(this.options.explode)for(let r of Object.keys(this.value)){let n=this.value[r];n!=null&&(e=e.append(r,this.serializeValue(n)))}else{let r=[];for(let n of Object.keys(this.value)){let i=this.value[n];i!=null&&(r.push(n),r.push(i))}e=e.append(this.name,this.serializeValue(r))}else this.value!==null&&this.value!==void 0&&(e=e.append(this.name,this.serializeValue(this.value)));return e}},ar=class extends gt{constructor(e,r,n){super(e,r,n,"simple",!1)}append(e){if(this.value!==null&&this.value!==void 0)if(this.value instanceof Array)for(let r of this.value)e=e.append(this.name,this.serializeValue(r));else e=e.append(this.name,this.serializeValue(this.value));return e}},ve=class{constructor(e,r,n){this.rootUrl=e,this.operationPath=r,this.method=n,this._path=new Map,this._query=new Map,this._header=new Map}path(e,r,n){this._path.set(e,new or(e,r,n||{}))}query(e,r,n){this._query.set(e,new sr(e,r,n||{}))}header(e,r,n){this._header.set(e,new ar(e,r,n||{}))}body(e,r="application/json"){if(e instanceof Blob?this._bodyContentType=e.type:this._bodyContentType=r,this._bodyContentType==="application/x-www-form-urlencoded"&&e!==null&&typeof e=="object"){let n=[];for(let i of Object.keys(e)){let o=e[i];o instanceof Array||(o=[o]);for(let s of o){let c=this.formDataValue(s);c!==null&&n.push([i,c])}}this._bodyContent=n.map(i=>`${encodeURIComponent(i[0])}=${encodeURIComponent(i[1])}`).join("&")}else if(this._bodyContentType==="multipart/form-data"){let n=new FormData;if(e!=null)for(let i of Object.keys(e)){let o=e[i];if(o instanceof Array)for(let s of o){let c=this.formDataValue(s);c!==null&&n.append(i,c)}else{let s=this.formDataValue(o);s!==null&&n.set(i,s)}}this._bodyContent=n}else this._bodyContent=e}formDataValue(e){return e==null?null:e instanceof Blob?e:typeof e=="object"?new Blob([JSON.stringify(e)],{type:"application/json"}):String(e)}build(e){e=e||{};let r=this.operationPath;for(let s of this._path.values())r=s.append(r);let n=this.rootUrl+r,i=new Te({encoder:Ha});for(let s of this._query.values())i=s.append(i);let o=new Cr;e.accept&&(o=o.append("Accept",e.accept));for(let s of this._header.values())o=s.append(o);return this._bodyContentType&&!(this._bodyContent instanceof FormData)&&(o=o.set("Content-Type",this._bodyContentType)),new wr(this.method.toUpperCase(),n,this._bodyContent,{params:i,headers:o,responseType:e.responseType,reportProgress:e.reportProgress,context:e.context})}};function Qt(t,e,r,n){let i=new ve(e,Qt.PATH,"post");return r&&i.body(r.body,"application/json"),t.request(i.build({responseType:"json",accept:"application/json",context:n})).pipe(Se(o=>o instanceof Ne),$(o=>o))}Qt.PATH="/auth/authenticate";function Jt(t,e,r,n){let i=new ve(e,Jt.PATH,"get");return r&&i.query("token",r.token,{}),t.request(i.build({responseType:"text",accept:"*/*",context:n})).pipe(Se(o=>o instanceof Ne),$(o=>o.clone({body:void 0})))}Jt.PATH="/auth/activate-account";function Xt(t,e,r,n){let i=new ve(e,Xt.PATH,"post");return r&&i.body(r.body,"application/json"),t.request(i.build({responseType:"json",accept:"application/json",context:n})).pipe(Se(o=>o instanceof Ne),$(o=>o))}Xt.PATH="/auth/register";var qe=(()=>{let e=class e extends co{constructor(n,i){super(n,i)}register$Response(n,i){return Xt(this.http,this.rootUrl,n,i)}register(n,i){return this.register$Response(n,i).pipe($(o=>o.body))}authenticate$Response(n,i){return Qt(this.http,this.rootUrl,n,i)}authenticate(n,i){return this.authenticate$Response(n,i).pipe($(o=>o.body))}confirm$Response(n,i){return Jt(this.http,this.rootUrl,n,i)}confirm(n,i){return this.confirm$Response(n,i).pipe($(o=>o.body))}};e.RegisterPath="/register",e.AuthenticatePath="/authenticate",e.ConfirmPath="/activate-account",e.\u0275fac=function(i){return new(i||e)(A(Yt),A(z))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $a(t,e){if(t&1&&(a(0,"p"),u(1),l()),t&2){let r=e.$implicit;f(),Y(r)}}function Ua(t,e){if(t&1&&(a(0,"div",15),D(1,$a,2,1,"p",16),l()),t&2){let r=g();f(),m("ngForOf",r.errorMsg)}}var fo=(()=>{let e=class e{constructor(n,i){this.router=n,this.authService=i,this.registerRequest={email:"",firstName:"",lastName:"",password:""},this.errorMsg=[]}register(){this.errorMsg=[],this.authService.register({body:this.registerRequest}).subscribe({next:()=>{this.router.navigate(["activate-account"])},error:n=>{this.errorMsg=n.error.validationErrors}})}login(){this.router.navigate([""])}};e.\u0275fac=function(i){return new(i||e)(d(N),d(qe))},e.\u0275cmp=C({type:e,selectors:[["app-register"]],standalone:!0,features:[w],decls:29,vars:5,consts:[[1,"container-fluid","card","login-container"],[1,"text-center"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"mb-3"],["for","firstName",1,"form-label"],["type","email","id","firstName","placeholder","First name",1,"form-control",3,"ngModelChange","ngModel"],["for","lastName",1,"form-label"],["type","email","id","lastName","placeholder","Last name",1,"form-control",3,"ngModelChange","ngModel"],["for","login",1,"form-label"],["type","email","id","login","placeholder","name@example.com",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","placeholder","Password",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-between","mb-3"],["type","button",1,"btn","btn-link",3,"click"],[1,"fas","fa-sign-in-alt"],["role","alert",1,"alert","alert-danger"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(a(0,"div",0)(1,"h3",1),u(2,"Create an account"),l(),M(3,"hr"),D(4,Ua,2,1,"div",2),a(5,"div",3)(6,"label",4),u(7,"First name"),l(),a(8,"input",5),P("ngModelChange",function(c){return O(o.registerRequest.firstName,c)||(o.registerRequest.firstName=c),c}),l()(),a(9,"div",3)(10,"label",6),u(11,"Last name"),l(),a(12,"input",7),P("ngModelChange",function(c){return O(o.registerRequest.lastName,c)||(o.registerRequest.lastName=c),c}),l()(),a(13,"div",3)(14,"label",8),u(15,"Email address"),l(),a(16,"input",9),P("ngModelChange",function(c){return O(o.registerRequest.email,c)||(o.registerRequest.email=c),c}),l()(),a(17,"div",3)(18,"label",10),u(19,"Password"),l(),a(20,"input",11),P("ngModelChange",function(c){return O(o.registerRequest.password,c)||(o.registerRequest.password=c),c}),l()(),a(21,"div",12)(22,"button",13),p("click",function(){return o.register()}),a(23,"em",14),u(24,"\xA0Register"),l()(),a(25,"div"),u(26," Already have an account?\xA0 "),a(27,"button",13),p("click",function(){return o.login()}),u(28," Log in "),l()()()()),i&2&&(f(4),m("ngIf",o.errorMsg.length),f(4),k("ngModel",o.registerRequest.firstName),f(4),k("ngModel",o.registerRequest.lastName),f(4),k("ngModel",o.registerRequest.email),f(4),k("ngModel",o.registerRequest.password))},dependencies:[X,G,ee,q,L,W,oe],styles:[".login-container[_ngcontent-%COMP%]{max-width:600px;margin:200px auto;padding:50px;border-radius:8px;box-shadow:0 4px 8px #0000001a;border:1px solid #ddd}.login-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;margin-bottom:20px}.login-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #ccc;padding:10px}.btn-link[_ngcontent-%COMP%]{font-weight:400;color:#007bff;text-decoration:none;padding:10px}.btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.alert-danger[_ngcontent-%COMP%]{font-size:.9rem;padding:10px;margin-bottom:20px}.d-flex[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}"]});let t=e;return t})();function Ga(t,e){if(t&1&&(a(0,"p"),u(1),l()),t&2){let r=e.$implicit;f(),Y(r)}}function za(t,e){if(t&1&&(a(0,"div",15),D(1,Ga,2,1,"p",16),l()),t&2){let r=g(2);f(),m("ngForOf",r.errorMsg)}}function Wa(t,e){if(t&1){let r=x();a(0,"div")(1,"div",3)(2,"h3",4),u(3,"Login"),l(),M(4,"hr"),D(5,za,2,1,"div",5),a(6,"div",6)(7,"label",7),u(8,"Email address"),l(),a(9,"input",8),P("ngModelChange",function(i){y(r);let o=g();return O(o.authRequest.email,i)||(o.authRequest.email=i),v(i)}),l()(),a(10,"div",6)(11,"label",9),u(12,"Password"),l(),a(13,"input",10),P("ngModelChange",function(i){y(r);let o=g();return O(o.authRequest.password,i)||(o.authRequest.password=i),v(i)}),l()(),a(14,"div",11)(15,"button",12),p("click",function(){y(r);let i=g();return v(i.login())}),a(16,"em",13),u(17,"\xA0Sign in"),l()(),a(18,"div"),u(19," Don't have an account?\xA0 "),a(20,"button",14),p("click",function(){y(r);let i=g();return v(i.register())}),u(21," Register "),l()(),a(22,"div"),u(23," Forgot a password?\xA0 "),a(24,"button",14),p("click",function(){y(r);let i=g();return v(i.passwordReset())}),u(25," Password reset "),l()()()()()}if(t&2){let r=g();f(5),m("ngIf",r.errorMsg.length),f(4),k("ngModel",r.authRequest.email),f(4),k("ngModel",r.authRequest.password)}}function qa(t,e){if(t&1){let r=x();a(0,"div")(1,"h2"),u(2,"You're logged in"),l(),a(3,"button",14),p("click",function(){y(r);let i=g();return v(i.backToKnowledge())}),u(4," Back to Knowledge "),l()()}}var ho=(()=>{let e=class e{constructor(n,i,o){this.router=n,this.authService=i,this.tokenService=o,this.authRequest={email:"",password:""},this.errorMsg=[],this.token=""}ngOnInit(){console.log("Token on Init:",this.tokenService.token),this.token=this.tokenService.token||"",this.token&&this.router.navigate(["navbar"])}login(){this.errorMsg=[],this.authService.authenticate({body:this.authRequest}).subscribe({next:n=>{this.tokenService.token=n.token,this.token=this.tokenService.token,this.router.navigate(["navbar"])},error:n=>{console.log(n),n.error.validationErrors?this.errorMsg=n.error.validationErrors:this.errorMsg.push(n.error.errorMsg)}})}register(){this.router.navigate(["navbar/register"])}passwordReset(){this.router.navigate(["navbar/password-reset"])}backToKnowledge(){this.router.navigate(["navbar/knowledge"])}};e.\u0275fac=function(i){return new(i||e)(d(N),d(qe),d(Zt))},e.\u0275cmp=C({type:e,selectors:[["app-login"]],standalone:!0,features:[w],decls:4,vars:2,consts:[[1,"login-background"],[1,"login-content"],[4,"ngIf"],[1,"container-fluid","card","login-container"],[1,"text-center"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"mb-3"],["for","login",1,"form-label"],["type","email","id","login","placeholder","name@example.com",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","placeholder","Password",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-between","mb-3"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-sign-in-alt"],["type","button",1,"btn","btn-link",3,"click"],["role","alert",1,"alert","alert-danger"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(a(0,"div",0)(1,"div",1),D(2,Wa,26,3,"div",2)(3,qa,5,0,"div",2),l()()),i&2&&(f(2),m("ngIf",o.token==""),f(),m("ngIf",o.token!=""))},dependencies:[X,G,ee,q,L,W,oe],styles:['.login-background[_ngcontent-%COMP%]{background-image:url("./media/background-flowers-MZN3RY75.jpg");background-size:cover;background-repeat:no-repeat;background-position:center;height:100%;display:flex;justify-content:center;align-items:center}.login-content[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:20px;background:#ffffffe6;border-radius:10px;box-shadow:0 4px 15px #0003}.login-container[_ngcontent-%COMP%]{max-width:600px;margin:200px auto;padding:50px;border-radius:8px;box-shadow:0 4px 8px #0000001a;border:1px solid #ddd}.login-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;margin-bottom:20px}.login-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #ccc;padding:10px}.btn-link[_ngcontent-%COMP%]{font-weight:400;color:#007bff;text-decoration:none;padding:10px}.btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.alert-danger[_ngcontent-%COMP%]{font-size:.9rem;padding:10px;margin-bottom:20px}.d-flex[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}']});let t=e;return t})();var Ka=new H("CodeInputComponentConfig");var po=(()=>{let e=class e{static forRoot(n){return{ngModule:e,providers:[{provide:Ka,useValue:n}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=pt({type:e}),e.\u0275inj=ht({imports:[io]});let t=e;return t})();var go=(()=>{let e=class e{constructor(n,i){this.router=n,this.authService=i,this.message="",this.isOkay=!1,this.submitted=!1,this.code=""}confirmAccount(){if(!this.code||this.code.trim().length===0){this.message="Please enter a valid activation code";return}let n=this.code.trim();this.authService.confirm({token:n}).subscribe({next:()=>{this.message="Your account has been successfully activated. Now you can proceed to login"},error:()=>{this.message="Token has expired or is invalid"}})}submitCode(){this.submitted=!1,this.confirmAccount()}redirectToLogin(){this.router.navigate([""])}};e.\u0275fac=function(i){return new(i||e)(d(N),d(qe))},e.\u0275cmp=C({type:e,selectors:[["app-activate-account"]],standalone:!0,features:[w],decls:11,vars:2,consts:[[1,"container","text-center",2,"width","300px"],["type","text","placeholder","Activation Code","maxlength","6",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","mt-3",3,"click"],[1,"btn","btn-secondary","mt-2",3,"click"]],template:function(i,o){i&1&&(a(0,"p"),u(1),l(),a(2,"div")(3,"div",0)(4,"h2"),u(5,"Enter Activation Code"),l(),a(6,"input",1),P("ngModelChange",function(c){return O(o.code,c)||(o.code=c),c}),l(),a(7,"button",2),p("click",function(){return o.submitCode()}),u(8,"Submit Code"),l(),a(9,"button",3),p("click",function(){return o.redirectToLogin()}),u(10,"Go to Login"),l()()()),i&2&&(f(),Y(o.message),f(5),k("ngModel",o.code))},dependencies:[G,q,L,W,vn,oe,po],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:20px}.text-center[_ngcontent-%COMP%]{text-align:center}h2[_ngcontent-%COMP%]{font-size:1.5em;margin-bottom:15px}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1em;margin-bottom:15px;border:1px solid #ccc;border-radius:5px}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1em;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}.activation-message[_ngcontent-%COMP%], .activation-error[_ngcontent-%COMP%]{text-align:center;padding:20px;border-radius:5px;border:1px solid transparent}.activation-message[_ngcontent-%COMP%]{color:#28a745;border-color:#c3e6cb;background-color:#d4edda}.activation-error[_ngcontent-%COMP%]{color:#dc3545;border-color:#f5c6cb;background-color:#f8d7da}"]});let t=e;return t})();var mo=(()=>{let e=class e{constructor(n){this.http=n,this.apiUrl=ge.apiUrlPassword}requestPasswordReset(n){let i=new Te().set("email",n);return this.http.post(`${this.apiUrl}/resetPassword`,null,{params:i})}validateToken(n){return this.http.get(`${this.apiUrl}/changePassword`,{params:{token:n}})}saveNewPassword(n){return this.http.post(`${this.apiUrl}/savePassword`,n)}};e.\u0275fac=function(i){return new(i||e)(A(z))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ya(t,e){if(t&1){let r=x();a(0,"div")(1,"h3"),u(2,"Request Password Reset"),l(),a(3,"form",3),p("ngSubmit",function(){y(r);let i=g();return v(i.requestReset())}),a(4,"label",4),u(5,"Email:"),l(),a(6,"input",5),P("ngModelChange",function(i){y(r);let o=g();return O(o.email,i)||(o.email=i),v(i)}),l(),a(7,"button",6),u(8,"Send Reset Link"),l()()()}if(t&2){let r=g();f(6),k("ngModel",r.email)}}function Qa(t,e){if(t&1){let r=x();a(0,"div")(1,"h3"),u(2,"Enter New Password"),l(),a(3,"label",7),u(4,"Enter Token:"),l(),a(5,"input",8),P("ngModelChange",function(i){y(r);let o=g();return O(o.token,i)||(o.token=i),v(i)}),l(),a(6,"form",3),p("ngSubmit",function(){y(r);let i=g();return v(i.validateToken())}),a(7,"button",6),u(8,"Validate Token"),l()()()}if(t&2){let r=g();f(5),k("ngModel",r.token)}}function Ja(t,e){if(t&1){let r=x();a(0,"div")(1,"h3"),u(2,"Set Your New Password"),l(),a(3,"form",3),p("ngSubmit",function(){y(r);let i=g();return v(i.savePassword())}),a(4,"label",9),u(5,"New Password:"),l(),a(6,"input",10),P("ngModelChange",function(i){y(r);let o=g();return O(o.newPassword,i)||(o.newPassword=i),v(i)}),l(),a(7,"label",11),u(8,"Confirm Password:"),l(),a(9,"input",12),P("ngModelChange",function(i){y(r);let o=g();return O(o.confirmPassword,i)||(o.confirmPassword=i),v(i)}),l(),a(10,"button",6),u(11,"Save Password"),l()()()}if(t&2){let r=g();f(6),k("ngModel",r.newPassword),f(3),k("ngModel",r.confirmPassword)}}var yo=(()=>{let e=class e{constructor(n,i,o){this.passwordService=n,this.route=i,this.router=o,this.step="request",this.email="",this.newPassword="",this.confirmPassword="",this.token=null,this.message=""}ngOnInit(){this.token=this.route.snapshot.queryParamMap.get("token"),this.token&&(this.step="change")}requestReset(){this.passwordService.requestPasswordReset(this.email).subscribe(n=>{this.message=n.message,this.step="change"},n=>{console.error(n),this.message=n.error.message||"Error sending reset link."})}validateToken(){if(!this.token){this.message="Invalid or missing token";return}this.passwordService.validateToken(this.token).subscribe(n=>{this.message=n.message,this.step="save"},n=>{console.error(n),this.message=n.error.message||"Invalid token",this.step="request"})}savePassword(){if(!this.token){console.error("Token is missing!"),this.message="Token is missing!";return}if(this.newPassword!==this.confirmPassword){this.message="Passwords don't match!";return}let n={token:this.token,newPassword:this.newPassword};this.passwordService.saveNewPassword(n).subscribe(i=>{this.message=i.message,this.step="request"},i=>{console.error(i),this.message=i.error.message||"Error changing password"})}redirectToLogin(){this.router.navigate([""])}};e.\u0275fac=function(i){return new(i||e)(d(mo),d(_t),d(N))},e.\u0275cmp=C({type:e,selectors:[["app-password-reset"]],standalone:!0,features:[w],decls:12,vars:4,consts:[[1,"password-reset-container"],[4,"ngIf"],["type","button",1,"btn","btn-link",3,"click"],[3,"ngSubmit"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-link"],["for","token"],["type","text","id","token",3,"ngModelChange","ngModel"],["for","newPassword"],["type","password","id","newPassword","name","newPassword","required","",3,"ngModelChange","ngModel"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","required","",3,"ngModelChange","ngModel"]],template:function(i,o){i&1&&(a(0,"div",0)(1,"h2"),u(2,"Password Reset"),l(),a(3,"p"),u(4),l(),D(5,Ya,9,1,"div",1)(6,Qa,9,1,"div",1)(7,Ja,12,2,"div",1),a(8,"div"),u(9," Back to Login "),a(10,"button",2),p("click",function(){return o.redirectToLogin()}),u(11," Log in "),l()()()),i&2&&(f(4),Y(o.message),f(),m("ngIf",o.step==="request"),f(),m("ngIf",o.step==="change"),f(),m("ngIf",o.step==="save"))},dependencies:[G,ee,q,pe,L,W,he,yn,oe,nt],styles:[".password-reset-container[_ngcontent-%COMP%]{max-width:600px;margin:200px auto;padding:50px;border-radius:8px;box-shadow:0 4px 8px #0000001a;border:1px solid #ddd}.login-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;margin-bottom:20px}.login-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #ccc;padding:10px}.btn-link[_ngcontent-%COMP%]{font-weight:400;color:#007bff;text-decoration:none;padding:10px}.btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.alert-danger[_ngcontent-%COMP%]{font-size:.9rem;padding:10px;margin-bottom:20px}.d-flex[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}"]});let t=e;return t})();var vo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=C({type:e,selectors:[["app-home-detail"]],standalone:!0,features:[w],decls:2,vars:0,template:function(i,o){i&1&&(a(0,"p"),u(1,"home-detail works!"),l())}});let t=e;return t})();var Do=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=C({type:e,selectors:[["app-admin-detail"]],standalone:!0,features:[w],decls:2,vars:0,template:function(i,o){i&1&&(a(0,"p"),u(1,"admin-detail works!"),l())}});let t=e;return t})();var Co=(()=>{let e=class e{constructor(){}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=C({type:e,selectors:[["app-navbar-detail"]],standalone:!0,features:[w],decls:18,vars:0,consts:[[1,"navbar"],[1,"navbar-logo"],["src","web/frontend/src/assets/logo.png","alt","Knowledge Logo"],[1,"navbar-links"],["routerLink","home"],["routerLink","knowledge"],["routerLink","private-knowledge"],["routerLink","admin-panel"],[1,"navbar-actions"]],template:function(i,o){i&1&&(a(0,"nav",0)(1,"div",1),M(2,"img",2),l(),a(3,"ul",3)(4,"li")(5,"a",4),u(6,"Home"),l()(),a(7,"li")(8,"a",5),u(9,"Public knowledge"),l()(),a(10,"li")(11,"a",6),u(12,"Private knowledge"),l()(),a(13,"li")(14,"a",7),u(15,"Admin panel"),l()()(),a(16,"div",8),M(17,"router-outlet"),l()())},dependencies:[It,Et,xr],styles:[".navbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background-color:#2c3e50;color:#fff;padding:10px 20px;font-family:Arial,sans-serif;box-shadow:0 2px 5px #0003}.navbar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;cursor:pointer}.navbar-links[_ngcontent-%COMP%]{list-style:none;display:flex;gap:15px;margin:0;padding:0}.navbar-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0}.navbar-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:16px;padding:5px 10px;transition:color .3s ease,background-color .3s ease}.navbar-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2c3e50;background-color:#fff;border-radius:4px}.navbar-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.navbar-links[_ngcontent-%COMP%]{flex-direction:column;gap:10px}}"]});let t=e;return t})();var wo=[{path:"",component:ho},{path:"register",component:fo},{path:"password-reset",component:yo},{path:"activate-account",component:go},{path:"navbar",component:Co,children:[{path:"home",component:vo},{path:"admin-panel",component:Do},{path:"knowledge/form",component:ci},{path:"knowledge",component:so},{path:"knowledge/detail/:id",component:wn},{path:"knowledge/detail/edit/:id",component:wn},{path:"knowledge/categories",component:ao}]}];var _o={providers:[vr({eventCoalescing:!0}),Sr(wo),Ir(),_r()]};var Xa={providers:[br()]},Eo=Dr(_o,Xa);var el=()=>Er(Tr,Eo),xf=el;export{xf as a};
